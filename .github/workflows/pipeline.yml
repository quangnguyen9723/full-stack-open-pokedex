name: Deployment pipeline

on:
  push:
    branches:
      - master

jobs:
  simple_deployement_pipeline:
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: "16"
      - name: Install dependencies
        run: npm install
      - name: linting
        run: npm run eslint
      - name: build
        run: npm run build
      - name: test
        run: npm run test
      - name: print all
        run: |
          touch dir_tree.py
          echo "import os


          def print_directory_tree(root_path, indent=''):
              items = os.listdir(root_path)
              for index, item in enumerate(sorted(items)):
                  item_path = os.path.join(root_path, item)
                  is_last = index == len(items) - 1

                  if os.path.isdir(item_path):
                      print(indent + '├─ ' + item)
                      branch = indent + ('│  ' if not is_last else '   ')
                      print_directory_tree(item_path, indent=branch)
                  else:
                      prefix = '└─ ' if is_last else '├─ '
                      print(indent + prefix + item)


          root_directory = '.'  # Change this to the root directory you want to print the tree for
          print_directory_tree(root_directory)
          " > dir_tree.py
          python3 dir_tree.py
